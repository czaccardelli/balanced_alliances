ally_to_us_relative_strength_multiplier = {
    add = scope:recipient.max_military_strength
    divide = scope:actor.max_military_strength_with_min
}

max_military_strength_with_min = {
    value = max_military_strength
    min = 1
}

cost_to_call_ally = {
    if = {
        limit = {
            scope:recipient.primary_title.tier = tier_county
        }
        value = {
            add = minor_prestige_value
            multiply = ally_to_us_relative_strength_multiplier
            min = minor_prestige_value
        }
    }
    else_if = {
        limit = {
            scope:recipient.primary_title.tier = tier_duchy
        }
        value = {
            add = medium_prestige_value
            multiply = ally_to_us_relative_strength_multiplier
            min = medium_prestige_value
        }
    }
    else_if = {
        limit = {
            scope:recipient.primary_title.tier = tier_kingdom
        }
        value = {
            add = major_prestige_value
            multiply = ally_to_us_relative_strength_multiplier
            min = major_prestige_value
        }
    }
    else = {
        value = {
            add = massive_prestige_value
            multiply = ally_to_us_relative_strength_multiplier
            min = massive_prestige_value
        }
    }
}

