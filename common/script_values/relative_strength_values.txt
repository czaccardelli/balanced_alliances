defense_strength_value = {
    scope:defender = {
        add = max_military_strength
        every_ally = {
            add = max_military_strength
        }
    }
    min = 1
}

attacker_and_pledged_allies_strength_value = {
    scope:attacker = {
        add = max_military_strength
        every_ally = {
            limit = {
                has_relation_supported_war_leader = scope:attacker
            }
            add = max_military_strength
        }
    }
    min = 1
}

compare_defender_to_attacker_sides_value = {
    value = {
        add = defense_strength_value
        divide = attacker_and_pledged_allies_strength_value
    }
}

standard_war_ai_score_mult_value = {
    if = {
        limit = {
            compare_defender_to_attacker_sides_value > 2
        }
        value = 0 # hopelessly weaker, so don't even try to start this war
    }
    else_if = {
        limit = {
            compare_defender_to_attacker_sides_value > 1.5
        }
        value = 0.1 # really shouldn't do this
    }
    else_if = {
        limit = {
            compare_defender_to_attacker_sides_value > 1.2
        }
                value = 0.5 # winnable, but it'll be tough
    }
    else_if = {
        limit = {
            compare_defender_to_attacker_sides_value > 1.1
        }
        value = 0.8 # close, but there might be better war options
    }
    else_if = {
        limit = {
            compare_defender_to_attacker_sides_value > 1
        }
        value = 1 # give it a try
    }
    else_if = {
        limit = {
            compare_defender_to_attacker_sides_value > 0.8
        }
        value = 1.5 # they're weak, go for it
    }
    else_if = {
        limit = {
            compare_defender_to_attacker_sides_value > 0.6
        }
        value = 3 # almost certainly a win
    }
    else_if = {
        limit = {
            compare_defender_to_attacker_sides_value > 0.4
        }
        value = 10 # foregone conclusion
    }
    else = {
        value = 20 # just walk in and take it
    }
}