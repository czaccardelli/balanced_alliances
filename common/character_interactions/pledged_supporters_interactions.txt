ask_to_pledge_support_interaction = {
    category = interaction_category_diplomacy
    desc = ask_to_pledge_support_interaction_desc

    is_shown = {
        scope:recipient = {
            is_allied_to = scope:actor
            is_ruler = yes
        }
    }

    is_valid_showing_failures_only = {
		scope:recipient = {
            custom_description = {
                text = already_a_pledged_supporter
                subject = scope:recipient
                NOT = { has_relation_supported_war_leader = scope:actor }
            }
        }
	}

    on_accept = {
        scope:actor = {
            set_relation_pledged_supporter = scope:recipient
            hidden_effect = {
                send_interface_toast = {
					title = set_pledged_supporter_interaction_toast
					left_icon = scope:actor
					right_icon = scope:recipient

					custom_tooltip = set_pledged_supporter_interaction_toast_pledged
				}
            }
        }
	}

    on_decline = {
        # TODO: leave the player alone after they refuse
    }

    ai_frequency = 1

    ai_targets = {
        ai_recipients = scripted_relations
    }

    ai_accept = {
        base = 100 # ai will always accept for now
    }

    ai_will_do = {
        base = 100

        modifier = {
            is_at_war = yes
            factor = 0
        }
    }
}